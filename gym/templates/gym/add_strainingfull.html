{% extends 'base.html' %}

{% block sidebar %}
SideBar will be here
{% endblock %}

{% block content %}
<h1>Редактирование тренировки</h1>
<form action="#" method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <!--  Способ вывода формы N2  -->
    {{ form.non_field.errors }}
    <div class="form-group">
        <label for="{{ form.training_date.id_for_lable }}">Дата:</label>
        {{ form.training_date }}
        <div class="invalid-feedBack">
            {{ form.training_date.errors }}
        </div>
    </div>
    <div class="form-group">
        <label for="{{ form.about.id_for_lable }}">Описание:</label>
        {{ form.about }}
        <div class="invalid-feedBack">
            {{ form.about.errors }}
        </div>
    </div>
    <div class="form-group">
        <div class="card-body">
            <label for="{{ form.trainingexercise_set.id_for_lable }}">Упражнения:</label>
            <ul class="list-group">
                {% for elem in form.trainingexercise_set %}
                <li class="list-group-item">
                    <h5 class="card-title">{{ elem }}</h5>
                    <p>
                        {% for item in elem.traininground_set.all %}
                            {% if item.weight %}
                            [{{ item.weight }}]
                            {% endif %}
                            <b>
                                {{ item.plan_try }}
                                {% if item.fact_try %}
                                / {{ item.fact_try }}
                                {% endif %}
                            </b>
                        -
                        {% endfor %}
                    </p>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div class="invalid-feedBack">
            {{ form.trainingexercise_set.errors }}
        </div>
    </div>

    <button type="submit" class="btn btn-primary btn-block">Сохранить тренировку</button>
</form>
{% endblock %}